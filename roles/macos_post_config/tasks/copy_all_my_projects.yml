---

- name: '[dev/all] Prepare ~/Projects directory'
  file:
    path: "{{ macbook.home_path }}/Projects"
    state: directory

- name: '[dev/all] Clone projects'
  vars:
    github_url: "https://github.com/0exp"
    clone_path: "{{ macbook.home_path }}/Projects"
  git:
    repo: "{{ github_url }}/{{ repo_name }}"
    dest: "{{ clone_path }}/{{ repo_name }}"
    version: 'HEAD'
  loop:
    - cybercore
    - armonica
    - diablo-ruby
    - qonfig
    - any_cache
    - armitage
    - jaina
    - smart_core
    - symbiont-ruby
    - rabbit_matcher
    - sidekiq_portal
    - recipes
    - evil_events
    - 0exp.github.io
    - blast_wave
    - siege
    - gem_template
  loop_control:
    loop_var: repo_name

- name: '[dev/all] Clone SmartCore projects'
  vars:
    github_url: "https://github.com/smart-rb"
    clone_path: "{{ macbook.home_path }}/Projects"
  git:
    repo: "{{ github_url }}/{{ repo_name }}"
    dest: "{{ clone_path }}/{{ repo_name }}"
    version: 'HEAD'
  loop:
    - smart_engine
    - smart_container
    - smart_types
    - smart_initializer
    - smart_operation
  loop_control:
    loop_var: repo_name
